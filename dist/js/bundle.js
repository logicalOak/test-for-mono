/*! For license information please see bundle.js.LICENSE.txt */
(()=>{var e={r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};document.addEventListener("DOMContentLoaded",(function(){ymaps.ready((function(){let e=new ymaps.Map("map",{center:[55.17630703499772,39.4789277226596],zoom:6}),t=new ymaps.Placemark([54.66139297397919,39.74807384064804],{},{iconLayout:"default#image",iconImageHref:"../img/marker.svg",iconImageSize:[36,40],iconImageOffset:[-15,-55]}),o=new ymaps.Placemark([55.753655905340665,37.633224597659606],{},{iconLayout:"default#image",iconImageHref:"../img/marker.svg",iconImageSize:[36,40],iconImageOffset:[-15,-55]}),r=new ymaps.Placemark([52.788278068229104,41.46912479712747],{},{iconLayout:"default#image",iconImageHref:"../img/marker.svg",iconImageSize:[36,40],iconImageOffset:[-15,-55]}),n=new ymaps.Placemark([53.969996242020144,27.561777189869517],{},{iconLayout:"default#image",iconImageHref:"../img/marker.svg",iconImageSize:[36,40],iconImageOffset:[-15,-55]}),a=new ymaps.Placemark([55.866843253660306,49.11998455804014],{},{iconLayout:"default#image",iconImageHref:"../img/marker.svg",iconImageSize:[36,40],iconImageOffset:[-15,-50]});e.geoObjects.add(t),e.geoObjects.add(o),e.geoObjects.add(r),e.geoObjects.add(n),e.geoObjects.add(a),e.controls.remove("geolocationControl"),e.controls.remove("trafficControl"),e.controls.remove("typeSelector"),e.controls.remove("fullscreenControl"),e.controls.remove("searchControl"),e.controls.remove("zoomControl"),e.controls.remove("rulerControl")}));const e=document.querySelector("#name"),t=document.querySelector("#phone"),o=document.querySelector("#checkbox"),r=document.querySelector("#form"),n=()=>{let t=!1;const o=e.value.trim();return c(o)?l(o.length,3,25)?(m(e),d(e),t=!0):(i(e,"Имя должно содержать от 3 до 25 символов."),u(e)):(i(e,"Является обязательным полем"),u(e)),t},a=()=>{let e=!1;const o=t.value.trim();return c(o)?s(o)?(m(t),d(t),e=!0):(i(t,"Введите правильный номер."),u(t)):(i(t,"Введите номер телефона."),u(t)),e},s=e=>/^(\+7|7|8)?[\s\-]?\(?[489][0-9]{2}\)?[\s\-]?[0-9]{3}[\s\-]?[0-9]{2}[\s\-]?[0-9]{2}$/.test(e),c=e=>""!==e,l=(e,t,o)=>!(e<t||e>o),i=(e,t)=>{const o=e.parentElement;o.classList.remove("success"),o.classList.add("error"),o.querySelector("small").textContent=t},m=e=>{const t=e.parentElement;t.classList.remove("error"),t.classList.add("success"),t.querySelector("small").textContent=""},u=e=>{e.classList.add("input-error")},d=e=>{e.classList.remove("input-error")};(e=>{let t;function o(e){e.keyCode&&(t=e.keyCode),this.selectionStart<3&&e.preventDefault();let o="+7 (___)-___-__-__",r=0,n=o.replace(/\D/g,""),a=this.value.replace(/\D/g,""),s=o.replace(/[_\d]/g,(function(e){return r<a.length?a.charAt(r++)||n.charAt(r):e}));r=s.indexOf("_"),-1!=r&&(r<5&&(r=3),s=s.slice(0,r));let c=o.substr(0,this.value.length).replace(/_+/g,(function(e){return"\\d{1,"+e.length+"}"})).replace(/[+()]/g,"\\$&");c=new RegExp("^"+c+"$"),(!c.test(this.value)||this.value.length<5||t>47&&t<58)&&(this.value=s),"blur"==e.type&&this.value.length<5&&(this.value="")}e.addEventListener("input",o,!1),e.addEventListener("focus",o,!1),e.addEventListener("blur",o,!1),e.addEventListener("keydown",o,!1)})(t),r.addEventListener("submit",(function(e){e.preventDefault();const t=new FormData(this);let s=n(),c=a();isCheckboxValid=(()=>{let e=!1;return!1===o.checked?i(o,"Подтвердите согласие."):(m(o),e=!0),e})(),s&&c&&isCheckboxValid&&(async e=>{const t="/path/to/server/",o=await fetch(t,{method:"POST",body:e});if(console.log(o),!o.ok)throw new Error(`Ошибка по адресу ${t}, статус ошибки ${o.status}`);return await o.text()})(t).then((e=>{console.log(e),r.reset()})).catch((e=>{console.error(e),alert("Что-то пошло не так, попробуйте еще раз"),r.reset()}))}));const g=(e,t=500)=>{let o;return(...r)=>{o&&clearTimeout(o),o=setTimeout((()=>{e.apply(null,r)}),t)}};e.addEventListener("input",g((function(e){n()}))),t.addEventListener("input",g((function(e){a()})))})),(()=>{"use strict";e.r(t)})()})();
//# sourceMappingURL=bundle.js.map